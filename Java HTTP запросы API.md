Java HTTP –∑–∞–ø—Ä–æ—Å—ã API
–î–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ HTTP POST –∑–∞–ø—Ä–æ—Å–∞ –≤ Java –º–æ–∂–Ω–æ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –∫–ª–∞—Å—Å HttpURLConnection. –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –¥–ª—è –º–µ—Ç–æ–¥–∞ POST, –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ç–∏–ø —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ –ø–æ—Å—Ä–µ–¥—Å—Ç–≤–æ–º –∑–∞–≥–æ–ª–æ–≤–∫–∞ Content-Type –∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏—Å–ø–æ–ª—å–∑—É—è OutputStream. –ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω –Ω–∏–∂–µ:
Java
–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥
URL url = new URL("http://example.com/api"); // –°–º–µ–Ω–∏—Ç–µ —ç—Ç–æ—Ç URL –Ω–∞ –≤–∞—à –∞–∫—Ç—É–∞–ª—å–Ω—ã–π –∞–¥—Ä–µ—Å
String params = "taco=–≤–∫—É—Å–Ω—ã–π&burrito=–∞–ø–ø–µ—Ç–∏—Ç–Ω—ã–π"; // –û–±–æ–∑–Ω–∞—á–∏–º, –±—É–¥—Ç–æ –º—ã –¥–µ–ª–∞–µ–º –∑–∞–∫–∞–∑ –µ–¥—ã —á–µ—Ä–µ–∑ POST!
HttpURLConnection con = (HttpURLConnection) url.openConnection();
con.setRequestMethod("POST");
con.setRequestProperty("Content-Type", "application/x-www-form-urlencoded");
con.setDoOutput(true); // –£–∫–∞–∑—ã–≤–∞–µ–º –Ω–∞ –ø–µ—Ä–µ–¥–∞—á—É –¥–∞–Ω–Ω—ã—Ö

try(DataOutputStream dos = new DataOutputStream(con.getOutputStream())) {
    dos.writeBytes(params); // –û—Å—É—â–µ—Å—Ç–≤–ª—è–µ–º –æ—Ç–ø—Ä–∞–≤–∫—É –¥–∞–Ω–Ω—ã—Ö
}

if (con.getResponseCode() == HttpURLConnection.HTTP_OK) {
    // –°–µ—Ä–≤–µ—Ä —É—Å–ø–µ—à–Ω–æ –ø–æ–ª—É—á–∏–ª –¥–∞–Ω–Ω—ã–µ
}
–û—Å—É—â–µ—Å—Ç–≤–ª—è–π—Ç–µ –∑–∞–º–µ–Ω—É –∑–Ω–∞—á–µ–Ω–∏–π http://example.com/api –∏ params –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –≤–∞—à–∏–º –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç—è–º. –§–æ—Ä–º–∞—Ç –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö –º–æ–∂–µ—Ç –≤–∞—Ä—å–∏—Ä–æ–≤–∞—Ç—å—Å—è, –Ω–∞–ø—Ä–∏–º–µ—Ä, –≤–æ–∑–º–æ–∂–Ω–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ JSON –≤–º–µ—Å—Ç–æ —Ñ–æ—Ä–º—ã.
–¢–µ–ø–µ—Ä—å –¥–∞–≤–∞–π—Ç–µ –±–æ–ª–µ–µ –¥–µ—Ç–∞–ª—å–Ω–æ —Ä–∞–∑–±–µ—Ä–µ–º –¥–∞–Ω–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å.
–†–∞–∑–±–æ—Ä POST-–∑–∞–ø—Ä–æ—Å–æ–≤ –≤ Java

–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ POST-–∑–∞–ø—Ä–æ—Å–æ–≤

HTTP POST –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö, –∏–º–µ—é—â–∏—Ö —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –∏–∑–º–µ–Ω—è—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–∞. –≠—Ç–æ—Ç –º–µ—Ç–æ–¥ –±–æ–ª–µ–µ –Ω–∞–¥—ë–∂–µ–Ω, —Ç–∞–∫ –∫–∞–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ URL, –≤ –æ—Ç–ª–∏—á–∏–µ –æ—Ç GET –∑–∞–ø—Ä–æ—Å–æ–≤. POST –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –±–æ–ª—å—à–æ–≥–æ –æ–±—ä–µ–º–∞ –¥–∞–Ω–Ω—ã—Ö.
–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å HttpURLConnection

Java –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç HttpURLConnection –¥–ª—è –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –Ω–∞ –æ—Ç–ø—Ä–∞–≤–∫—É –¥–∞–Ω–Ω—ã—Ö —Å –ø–æ–º–æ—â—å—é setDoOutput(true), —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º —É–∫–∞–∑–∞–≤ –Ω–∞ POST-–∑–∞–ø—Ä–æ—Å. –ó–∞–≥–æ–ª–æ–≤–∫–∏ Content-Type –∏ Content-Length –æ–ø–∏—Å—ã–≤–∞—é—Ç —Ç–∏–ø –∏ —Ä–∞–∑–º–µ—Ä –ø–µ—Ä–µ–¥–∞–≤–∞–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ.
–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

–í–æ—Å–ø–æ–ª—å–∑—É–π—Ç–µ—Å—å OutputStreamWriter –¥–ª—è —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, –ø—Ä–µ–æ–±—Ä–∞–∑—É—è —Å–∏–º–≤–æ–ª—ã –≤ –±–∞–π—Ç—ã, –ø–æ—Å–∫–æ–ª—å–∫—É HTTP —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–º–µ–Ω–Ω–æ —Å –±–∞–π—Ç–∞–º–∏. –û—Ä–≥–∞–Ω–∏–∑—É–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ —Ñ–æ—Ä–º–∞—Ç–µ –∫–ª—é—á=–∑–Ω–∞—á–µ–Ω–∏–µ, —Ä–∞–∑–¥–µ–ª—è—è –∏—Ö —Å–∏–º–≤–æ–ª–æ–º &. –î–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –ø—Ä–æ–±–ª–µ–º —Å —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–º–∏ —Å–∏–º–≤–æ–ª–∞–º–∏, –Ω–µ –∑–∞–±—ã–≤–∞–π—Ç–µ –ø—Ä–æ URL-–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ.
–û—Ç–∫—Ä—ã—Ç–∏–µ –∏ –∑–∞–∫—Ä—ã—Ç–∏–µ –ø–æ—Ç–æ–∫–æ–≤

–ù–µ –∑–∞–±—ã–≤–∞–π—Ç–µ –∑–∞–∫—Ä—ã–≤–∞—Ç—å OutputStreamWriter –∏ –¥—Ä—É–≥–∏–µ –ø–æ—Ç–æ–∫–∏ –≤–≤–æ–¥–∞/–≤—ã–≤–æ–¥–∞ –ø–æ—Å–ª–µ –∏—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è, —á—Ç–æ–±—ã —Å–æ–∫—Ä–∞—Ç–∏—Ç—å —Ä–∏—Å–∫ —É—Ç–µ—á–∫–∏ —Ä–µ—Å—É—Ä—Å–æ–≤ –∏ –æ–±–µ—Å–ø–µ—á–∏—Ç—å —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
–õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ —Ä–∞–±–æ—Ç—ã —Å POST-–∑–∞–ø—Ä–æ—Å–∞–º–∏

–ß–∏—Å—Ç–æ—Ç–∞ –∫–æ–¥–∞

–ß–∏—Å—Ç–æ—Ç–∞ –∫–æ–¥–∞ ‚Äî –≤–∞–∂–Ω—ã–π —Ñ–∞–∫—Ç–æ—Ä —É—Å–ø–µ—à–Ω–æ—Å—Ç–∏. –û–ø—Ç–∏–º–∏–∑–∏—Ä—É–π—Ç–µ –ø–æ–¥–≥–æ—Ç–æ–≤–∫—É –∏ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –¥–æ –æ—Ç–ø—Ä–∞–≤–∫–∏ –∑–∞–ø—Ä–æ—Å–∞, –æ—Ä–≥–∞–Ω–∏–∑—É–π—Ç–µ –æ–±—Ä–∞–±–æ—Ç–∫—É –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏ –æ—Ç–≤–µ—Ç–æ–≤ —Å–µ—Ä–≤–µ—Ä–∞ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –º–µ—Ç–æ–¥–∞—Ö.
–û–±—Ä–∞–±–æ—Ç–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π

–í–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ –ø—Ä–æ—Å–ª–µ–¥–∏—Ç–µ –∑–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏—è–º–∏ MalformedURLException –∏ IOException, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –≥–æ–≤–æ—Ä–∏—Ç—å –æ –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö URL –∏–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö –≤–≤–æ–¥–∞/–≤—ã–≤–æ–¥–∞. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–ª–æ–∫ try-catch –∏–ª–∏ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —ç—Ç–∏—Ö –∏—Å–∫–ª—é—á–µ–Ω–∏–π, —á—Ç–æ–±—ã —É–±–µ–¥–∏—Ç—å—Å—è –≤ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å—Ç–æ—Ä–æ–Ω–Ω–∏—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫

–í —Å–ª–æ–∂–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏—è—Ö –ø–æ–ª—å–∑—É–π—Ç–µ—Å—å —Å—Ç–æ—Ä–æ–Ω–Ω–∏–º–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º–∏, —Ç–∞–∫–∏–º–∏ –∫–∞–∫ DavidWebb, —á—Ç–æ–±—ã —É–ø—Ä–æ—Å—Ç–∏—Ç—å —Ä–∞–±–æ—Ç—É —Å HTTP-–∑–∞–ø—Ä–æ—Å–∞–º–∏ –∏ –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—Ç–≤–µ—Ç–æ–≤.
–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ POST

–ü–æ–º–Ω–∏—Ç–µ, —á—Ç–æ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≤ POST –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç GET. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –æ–±–ª–µ–≥—á–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å –∏ —Å–æ–∫—Ä–∞—â–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ.
–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è

–ü—Ä–æ—Ü–µ—Å—Å –æ—Ç–ø—Ä–∞–≤–∫–∏ POST-–ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –º–æ–∂–Ω–æ –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∫ –∫–æ–Ω–≤–µ–π–µ—Ä –≤ —Å–∏—Å—Ç–µ–º–µ –¥–æ—Å—Ç–∞–≤–∫–∏ –ø–æ—Å—ã–ª–æ–∫:
Markdown
–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥
–ö–ª–∏–µ–Ω—Ç (üì¶): –£–ø–∞–∫–æ–≤—ã–≤–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ POST
–ö–æ–Ω–≤–µ–π–µ—Ä–Ω–∞—è –ª–µ–Ω—Ç–∞ (‚û°Ô∏è): –î–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∏—Ö –Ω–∞ —Å–µ—Ä–≤–µ—Ä
–í Java —ç—Ç–æ –≤—ã–≥–ª—è–¥–∏—Ç —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:
Java
–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥
HttpClient client = HttpClient.newHttpClient();
HttpRequest request = HttpRequest.newBuilder()
    .uri(URI.create("http://example.com/api")) // –ê–¥—Ä–µ—Å–∞—Ç
    .headers("Content-Type", "application/x-www-form-urlencoded") // –ú–∞—Ä–∫–∏—Ä–æ–≤–∫–∞ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ
    .POST(HttpRequest.BodyPublishers.ofString("param1=value1&param2=value2")) // –î–∞–Ω–Ω—ã–µ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏
    .build(); // –°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å

HttpResponse<String> response = client.send(request, BodyHandlers.ofString()); // –ü–æ–ª—É—á–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞
–ò—Ç–æ–≥–æ–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç ‚úÖ:
Markdown
–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥
| –®–∞–≥                      | –û–±–æ–∑–Ω–∞—á–µ–Ω–∏–µ |
| ------------------------ | ----------- |
| –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–∞     | üì¶          |
| –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Content-Type   | üè∑Ô∏è          |
| –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞        | üìé          |
| –û—Ç–ø—Ä–∞–≤–∫–∞ –º–µ—Ç–æ–¥–æ–º POST    | ‚û°Ô∏è          |
| –ü–æ–ª—É—á–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞         | üì¨          |
–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø—Ä–æ—Ü–µ—Å—Å–∞ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç—Å—è —á–µ—Ç–∫–æ–π –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é –¥–µ–π—Å—Ç–≤–∏–π –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å POST-–∑–∞–ø—Ä–æ—Å–∞–º–∏.
–°–æ–≤–µ—Ç—ã –ø–æ –ø–æ–≤—ã—à–µ–Ω–∏—é –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏ POST-–∑–∞–ø—Ä–æ—Å–æ–≤

URL-–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ

–í—Å–µ–≥–¥–∞ –∫–æ–¥–∏—Ä—É–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã URL —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º URLEncoder.encode(value, "UTF-8") –ø–µ—Ä–µ–¥ –∏—Ö –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º –≤ —Ç–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞.
Content-Length

–î–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–∞ –≤—Å–µ–≥–¥–∞ —Ç–æ—á–Ω–æ —É–∫–∞–∑—ã–≤–∞–π—Ç–µ —Ä–∞–∑–º–µ—Ä –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ –∑–∞–≥–æ–ª–æ–≤–æ–∫ Content-Length, –æ—Å–Ω–æ–≤—ã–≤–∞—è—Å—å –Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –±–∞–π—Ç–æ–≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤.
–ü–æ–¥—Ö–æ–¥—è—â–∏–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞—Ä–∏–π

–ü–æ–º–∏–º–æ HttpURLConnection, —Ä–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Apache HttpClient, Retrofit –∏–ª–∏ OkHttp, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–µ–¥–ª–∞–≥–∞—é—Ç –±–æ–ª–µ–µ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø–æ —Ä–∞–±–æ—Ç–µ —Å HTTP.
–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç–∏

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—É—é –æ—Ç–ø—Ä–∞–≤–∫—É POST-–∑–∞–ø—Ä–æ—Å–æ–≤, —á—Ç–æ–±—ã –Ω–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –≥–ª–∞–≤–Ω—ã–π –ø–æ—Ç–æ–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. Callable, CompletableFuture –∏ –¥—Ä—É–≥–∏–µ —Å—Ä–µ–¥—Å—Ç–≤–∞ –ø–æ–º–æ–≥—É—Ç –≤–∞–º —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ —É–ø—Ä–∞–≤–ª—è—Ç—å –æ—Ç–≤–µ—Ç–∞–º–∏.